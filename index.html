<!DOCTYPE html>
<html>
<head>
<style>
textarea{
  width:97%;
  resize: none;
  outline: none;
  padding: 10px;
  font-size: clamp(0.8125rem, 0.7855rem + 0.1351vw, 0.9375rem);
}
button{
  background: green;
  color: #fff;
  border: none;
  outline: none;
  padding: 10px 25px;
  border-radius: 4px;
  margin-top: 8px;
  cursor: pointer;
}
</style>
</head>
<body>
<textarea class="text" rows="15"></textarea>
<button>Remove Spaces</button>
<textarea class="text2" rows="15" style="margin-top: 50px"></textarea>
<script>
function toSingleLineParagraph(txt) {
  let cleaned = txt
    .replace(/\s+/g, ' ')                      // collapse all whitespace
    .replace(/(\S)\.(?!\.)/g, '$1 ')           // replace single dot with space
    .trim();
  return cleaned;
}

document.querySelector("button").addEventListener("click", function(){
  let singleParagraph = toSingleLineParagraph(document.querySelector("textarea.text").value);
  document.querySelector("textarea.text").value = singleParagraph;
  document.querySelector("textarea.text2").value = singleParagraph + "\n\ngenerate images as i narrate this story, make it realistic";
});
</script>
</body>
</html> 
